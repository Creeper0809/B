# v3_20 TODO

- [x] Convert AST codegen to System V ABI for params/calls.
- [x] Ensure build script uses -asm for stage0.
- [x] Force AST codegen for asm blocks to avoid SSA mismatch (v3_19/v3_20).
- [x] Backport SysV AST codegen to v3_19 for bootstrap.
- [x] Make std/os syscalls ABI-agnostic via module-qualified global arg slots.
- [x] Add tests for SysV ABI argument passing (slices, >6 args).
- [x] Fix SSA struct param indexing and sret handling.
- [x] Handle SSA member access on struct-returning calls.
- [x] Reconcile struct-return chain/nested expected outputs.
- [x] Fix SSA pointer arithmetic scaling for element-size addressing.
- [x] Return address for array identifiers in SSA builder.
- [x] Preserve signed stack offsets in SSA `lea_local` encoding.
- [x] Resolve std modules from compiler binary path (not compile target path).
- [x] Accept build/v3_20.out basename for std path resolution.
- [x] Force AST codegen for std_ in SSA mode.
- [x] Save/restore live registers around SSA inline asm.
- [x] SSA struct assignment/copy (large struct sret + value copy).
- [x] Re-enable SSA slice-literal returns (current fallback to AST).
- [x] Diagnose RET_SLICE_HEAP ptr/len corruption in SSA builder/regalloc.
- [x] Stabilize SSA slice return path after re-enabling (fix regressions if any).
- [x] Fix RET_SLICE_HEAP ptr operand corruption (tests 83/84 segfault).
- [x] Re-run SSA slice return tests (83/84) after fix.
